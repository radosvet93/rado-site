---
import { AppConfig } from '@/utils/AppConfig';
import Base from '@/layouts/Base.astro';
import PostHeader from '@/components/PostHeader.astro';
import PostContent from '@/components/PostContent.astro';
import Newsletter from '@/components/Newsletter.astro';
import type { PostFrontmatter } from '@/types';

const { description } = AppConfig;

type Props = {
	frontmatter: PostFrontmatter;
};

const { frontmatter } = Astro.props;
---

<Base head={{ title: `${frontmatter.title} | ${AppConfig.title}`, description }}>
	<div class="mx-auto w-full max-w-screen-md">
		<PostHeader
			title={frontmatter.title}
			tags={frontmatter.tags}
			minutesRead={frontmatter.minutesRead}
			pubDate={frontmatter.pubDate}
			isPinned={frontmatter.isPinned}
			excerpt={frontmatter.excerpt}
			image={{ src: frontmatter.image.src, alt: frontmatter.image.alt }}
		/>
		<PostContent>
			<slot />
		</PostContent>

		<Newsletter />
	</div>
</Base>
