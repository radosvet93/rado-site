---

---

<section class="bg-gray-200 mx-4 px-4 py-12">
	<div class="mx-auto max-w-xl text-center">
		<h2 class="mb-2 text-2xl font-bold dark:text-gray-600">Join my newsletter</h2>
		<p class="mb-6 text-gray-600">
			Subscribe to get updates on new blog posts, useful frontend tips and ideas you can apply in
			your own work.
		</p>

		<form
			id="newsletter-form"
			action="#"
			method="POST"
			class="mt-4 flex w-full flex-col items-start gap-4 sm:flex-row sm:items-center"
		>
			<input
				id="email"
				name="email_address"
				type="email"
				required
				placeholder="Email address"
				class="w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-base text-gray-900 focus:ring-2 focus:ring-pink-600 focus:outline-none"
			/>

			<button
				type="submit"
				class="cursor-pointer rounded-md bg-pink-600 px-6 py-2 text-base font-medium text-white transition hover:bg-pink-700"
			>
				Subscribe
			</button>

			<div id="form-success" class="hidden font-medium text-green-600">
				âœ… You've been subscribed!
			</div>
		</form>
	</div>
</section>

<script is:inline>
	const form = document.getElementById('newsletter-form');
	const emailInput = document.getElementById('email');
	const successMessage = document.getElementById('form-success');

	form.addEventListener('submit', async (e) => {
		e.preventDefault();

		const email = emailInput.value;
		if (!email) return;

		try {
			const res = await fetch('https://api.convertkit.com/v3/forms/8324343/subscribe', {
				method: 'POST',
				headers: { 'Content-Type': 'application/json' },
				body: JSON.stringify({
					email,
					api_key: 'SOljMeSJn9djxYTI9-lAyA',
					form_id: '8324343'
				})
			});

			if (res.ok) {
				form.reset();
				successMessage.classList.remove('hidden');

				setTimeout(() => {
					successMessage.classList.add('hidden');
				}, 5000);
			} else {
				alert('Subscription failed. Please try again.');
			}
		} catch (err) {
			console.error(err);
			alert('Network error.');
		}
	});
</script>
